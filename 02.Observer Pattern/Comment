* 옵저버 패턴

1) 정의 및 특징
- 하나의 관찰 대상 - 여러 개의 관찰자 구조가 필요할 때 쓰는 패턴이다. 
- 한 객체(Subject)의 상태가 변경이 되면 해당 객체를 의존하고 있는 모든 객체(Observer)에게 의존하고 있는 객체의 상태가 변경되었다고 알려주는 디자인 패턴
- Subject : 관찰 대상이 되는 객체. 자신을 관찰하는 옵저버들을 append한 리스트로 옵저버를 관리(attach, detach, notify)함.
- Observer : Subject를 관찰하는 객체. Subject가 notify를 호출하면 Observer의 update가 호출됨.
- 일대다 관계

2) 사용 예시 : 이벤트 핸들러

3) 종류 : 푸시(push)와 풀(pull) 이 있음.

예시 코드) 코드 출처 : https://eomtttttt-develop.tistory.com/72

import abc
 
class Subject:
  __metaclass__ = abc.ABCMeta
 
  @abc.abstractmethod
  def register_observer(self):
    pass
 
  @abc.abstractmethod
  def remove_observer(self):
    pass
 
  @abc.abstractmethod
  def notify_observer(self):
    pass
 
class Observer:
  __metaclass__ = abc.ABCMeta
 
  @abc.abstractmethod
  def update(self):
    pass
 
class WeatherData(Subject):
  def __init__(self):
    self.observers = []
    self.temperature = 0
    self.humidity = 0
    self.pressure = 0
 
  def register_observer(self, observer):
    self.observers.append(observer)
 
  def remove_observer(self, observer):
    self.observers.remove(observer)
 
  def notify_observer(self):
    for observer in self.observers:
      observer.update(self.temperature, self.humidity, self.pressure)
 
  def get_temperature(self):
    return self.temperature
 
  def get_humidity(self):
    return self.humidity
 
  def get_pressure(self):
    return self.pressure
 
  def measurements_changed(self):
    self.notify_observer()
 
  def set_measurements(self, temperature, humidity, pressure):
    self.temperature = temperature
    self.humidity = humidity
    self.pressure = pressure
    self.measurements_changed()
 
class CurrentCondition(Observer):
  def __init__(self, subject):
    self.subject = subject
    self.subject.register_observer(self)
 
  def update(self, temperature, humidity, pressure):
    self.temperature = temperature
    self.humidity = humidity
    self.pressure = pressure
    self.display()
 
  def remove(self):
    self.subject.remove_observer(self)
 
  def display(self):
    print ('Current condition temp: %s hum: %s press: %s'
           %(self.temperature, self.humidity, self.pressure))
 
class StaticsDisplay(Observer):
  def __init__(self, subject):
    self.subject = subject
    self.subject.register_observer(self)
 
  def update(self, temperature, humidity, pressure):
    self.temperature = temperature
    self.humidity = humidity
    self.pressure = pressure
    self.display()
 
  def remove(self):
    self.subject.remove_observer(self)
 
  def display(self):
    print ('Static display temp: %s hum: %s press: %s'
           %(self.temperature, self.humidity, self.pressure))
 
print("###START####")
 
weather_data = WeatherData()
current_condition = CurrentCondition(weather_data)
statics_display = StaticsDisplay(weather_data)
 
weather_data.set_measurements(10, 50, 30)
weather_data.set_measurements(20, 60, 40)
 
print("###Remove static_display observer###")
statics_display.remove()
 
weather_data.set_measurements(1, 2, 3)
